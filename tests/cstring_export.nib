import "./nested_module.nib";
import "./nested_module.nib" as NestedMod;

@exported
proc len(s : ^char) => usize
{
    if (!s) {
        return 0;
    }

    var count : usize = 0;

    while (*s) {
        s = s + 1;
        count = count + 1;
    }

    return count;
}

proc get_rand(seed:usize) => usize
{
    return g_nested_var + seed;
}

const CSTR_CONST : int = 20;

var cstr_var : char = 100;

var _internal_var : int;

export { get_rand,  CSTR_CONST, cstr_var };
export { g_nested_var as g_nested_renamed }; // Export an imported symbol!
//export {NestedMod::g_nested_var as g_nested_renamed2}; // TODO: Does not work! Should it work though??
export {NestedMod};

