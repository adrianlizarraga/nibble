struct Vec3 {
    x : int;
    y : int;
    z : int;
}

proc vec3_add(a : ^Vec3, b : ^Vec3, c : ^Vec3) {
    c.x = a.x + b.x;
    (*c).y = (*a).y + (*b).y;
    c.z = a.z + b.z;
}

/*
proc vec3_add2(a : Vec3, b : Vec3, c : ^Vec3) {
    c.x = a.x + b.x;
    (*c).y = a.y + b.y;
    c.z = a.z + b.z;
}
*/

proc main() => int {
    #writeout("Structs\n", 8);

    var a : Vec3;
    a.x = 1;
    a.y = 2;
    a.z = 3;

    var b : Vec3;
    b.x = 9;
    b.y = 8;
    b.z = 7;

    var c : Vec3;
    vec3_add(^a, ^b, ^c);
    //vec3_add2(a, b, ^c);

    // 10 + 10 + 10 = 30
    return c.x + c.y + c.z;
}
